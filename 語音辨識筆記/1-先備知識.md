# 總流程圖
![[speech recognize process.PNG]]

# 預處理流程圖
![[speech recognize preprocess procedure.PNG]]
# 音調、泛音、諧波與分音
在振動學裡認為一個振動產生的波是一個具有一定頻率的振幅最大的正弦波叫基波。 這些高於基波頻率的小波就叫作諧波。 

除了簡單的正弦波外，大部分的聲音都包含基頻(fundamental tone)與其他不同的頻率。
如果再此段音訊中，頻率為基頻的整數倍稱為泛音(Overtones)或(harmonics)。如果是非整數倍則稱為分音(partials)，例如：2.4倍。若是基頻的幾分之幾則稱為 subharmonic。
* fundamental tone 被視為第一泛音，就像上面說的，通常是比其他頻率的聲音來的大聲
* 兩倍基頻的音色稱為第二泛音(second harmonic)，以此類推。

# 共振峰 (formant)
**共振峰**（**formant**）是用來描述[聲學](https://zh.wikipedia.org/wiki/%E5%A3%B0%E5%AD%A6 "聲學")[共振](https://zh.wikipedia.org/wiki/%E5%85%B1%E6%8C%AF "共振")現象的一種概念，[\[1\]](https://zh.wikipedia.org/wiki/%E5%85%B1%E6%8C%AF%E5%B3%B0#cite_note-1)在語音科學及[語音學](https://zh.wikipedia.org/wiki/%E8%AA%9E%E9%9F%B3%E5%AD%B8 "語音學")中，描述的是人類聲道中的共振情形。常用的量測方法是由[頻譜](https://zh.wikipedia.org/wiki/%E9%A0%BB%E8%AD%9C "頻譜")分析或聲譜圖（spectrogram，見右圖）中，尋找頻譜中的峰值。但假如說話者，用比較高的[基頻](https://zh.wikipedia.org/wiki/%E5%9F%BA%E9%A0%BB "基頻")發出元音，例如小孩或女性的聲音，則頻譜上看起來比較像是寬帶狀，比較無法看出明顯的峰值。在聲學中，共振峰是用來描述聲源內部的共振，特別是對樂器而言，指的是共鳴箱內的共振。我們也可以討論室內空氣的共振峰頻率。

## 共振峰與語音學 
**(from wiki 不太重要的東西)**
人類說話或唱歌產生的聲音包含許多不同的頻率，共振峰是這些頻率中較有意義的部分。定義上，人類若想分辨幾個不同的元音，我們所需要的資訊是完全可以被量化的。共振峰是使聽者能夠區分元音的關鍵[泛音](https://zh.wikipedia.org/wiki/%E6%B3%9B%E9%9F%B3 "泛音")。大部份的這些共振峰是由管內或腔體的[共振](https://zh.wikipedia.org/wiki/%E5%85%B1%E6%8C%AF "共振")產生，但是有些哨音是由[文丘里效應](https://zh.wikipedia.org/wiki/%E6%96%87%E4%B8%98%E9%87%8C%E6%95%88%E5%BA%94 "文丘里效應")中的低壓區域週期性回縮產生。頻率最低的共振峰頻率稱為 $f_1$，第二低的是 $f_2$，而第三低的是 $f_3$（基頻一般以 $f_0$ 標示）。絕大多部分的情形是，前兩個共振峰，$f_1$ 和 $f_2$ 就足以劃分不同元音。這兩個共振峰可以描述元音的開/閉、前/後兩個維度（過去傳統上把這和舌頭的位置聯結在一起，不過這並不完全精確）。因此[開元音](https://zh.wikipedia.org/wiki/%E9%96%8B%E5%85%83%E9%9F%B3 "開元音")如 \[a\] 有比較高的第一共振峰頻率$f_1$，而[閉元音](https://zh.wikipedia.org/wiki/%E9%96%89%E5%85%83%E9%9F%B3 "閉元音")如 \[i u\] 的則比較低；[前元音](https://zh.wikipedia.org/wiki/%E5%89%8D%E5%85%83%E9%9F%B3 "前元音")如 \[i\] 的第二共振峰頻率 $f_2$ 較高，[後元音](https://zh.wikipedia.org/wiki/%E5%BE%8C%E5%85%83%E9%9F%B3 "後元音")如 \[u\] 的則比較低。元音幾乎都有四個以上的共振峰，有時還會超過六個。然而，前兩個共振峰還是最關鍵的。通常我們會用第一共振峰對第二共振峰的 關係圖描述不同元音的性質。但這不足以描述某些元音的性質，例如圓唇與否。圓唇會降低 $f_3$，該效果對高前元音最明顯。

[鼻音](https://zh.wikipedia.org/wiki/%E9%BC%BB%E9%9F%B3_(%E8%BE%85%E9%9F%B3) "頻譜")通常在 2500 Hz 附近會有額外的共振峰，第二共振峰較弱甚至消失。[流音](https://zh.wikipedia.org/wiki/%E6%B5%81%E9%9F%B3 "流音")\[l\] 則通常在 1500 Hz 附近有額外的共振峰，其第二共振峰以上的共振峰都比較弱。而英語的"r"音（\[ɹ\]）則是用非常低的第三共振峰分辨（低於 2000 Hz）。

[塞音](https://zh.wikipedia.org/wiki/%E5%A1%9E%E9%9F%B3)（在某種程度上，其他輔音如[擦音](https://zh.wikipedia.org/wiki/%E6%93%A6%E9%9F%B3 "擦音")也是）會對相鄰元音與之相連部分的的共振峰產生影響，元音受影響的部分稱為[音征](https://zh.wikipedia.org/w/index.php?title=%E9%9F%B3%E5%BE%81&action=edit&redlink=1 "音征（頁面不存在）")。塞音一發即逝，所以音征對於識別塞音來說十分關鍵。[雙唇音](https://zh.wikipedia.org/wiki/%E9%9B%99%E5%94%87%E9%9F%B3 "雙唇音")例如 \[b p\] 使這部分共振峰向 700Hz 靠近，主要體現為降低共振峰；[軟齶音](https://zh.wikipedia.org/wiki/%E8%BB%9F%E9%BD%B6%E9%9F%B3 "軟齶音")如 \[g k\] 使共振峰向 3000Hz 靠近，主要體現為提高共振峰（發音之前_f_2 和 _f_3 幾乎都會互相接近，在軟齶音結束後才再分開）；[齒齦音](https://zh.wikipedia.org/wiki/%E9%BD%92%E9%BD%A6%E9%9F%B3 "齒齦音")如 \[d t\] 使共振峰向 1800 Hz 靠近，因此所造成的共振峰變化部份視元音種類而定。各共振峰所指向的共同軌跡，比如上述的 700 Hz、1800 Hz、3000 Hz，稱為「音軌」。需要注意的是，輔音反過來很大程度上也受臨近元音影響，元音造成的輔音圓唇以及發音部位的前移，會改變輔音的形態進而改變其音軌，如 \[tʷ kʲ\] 的音軌就不同於 \[t k\]。上述元音共振峰頻率的變化稱為「共振峰轉變」（formant transition）。

假如聲波的基頻比系統的共振波基頻還高，則共振峰頻率所展現出的大部分特質會流失。最明顯的例子是[歌劇](https://zh.wikipedia.org/wiki/%E6%AD%8C%E5%8A%87 "歌劇")中的[女高音](https://zh.wikipedia.org/wiki/%E5%A5%B3%E9%AB%98%E9%9F%B3 "女高音")，她們的音高到很高，以至於元音很難分辨。

控制共振峰是[泛音唱法](https://zh.wikipedia.org/wiki/%E6%B3%9B%E9%9F%B3%E5%94%B1%E6%B3%95 "泛音唱法")這種歌唱技巧的重要環節，歌手必須唱出一個基頻很低的音，然後產生尖銳的共振並選擇泛音，讓人感覺同時有兩種不同的音調。

[聲譜圖](https://zh.wikipedia.org/wiki/%E8%81%B2%E8%AD%9C%E5%9C%96 "聲譜圖")可以用來觀察共振峰。

# 音框
因為不可能一次處理所有聲音，因此要將聲音分成一段一段的，這個就是音框。
通常在處理的時候會將音框之間重顛1/2或1/3。

# 平緩音窗不連續現象
## 漢明窗 ( Hamming Windows)
將音窗乘上漢明窗的原因是因為每個被分開的音窗都將視為獨立的音訊，為了將音框與音框之間的不連續性減少，因此乘上漢明窗使其不會有這麼不明顯的不連續現象

# 預強調 (Pre-emphasis)
為了彌補聲音訊號再空氣中衰弱的問題，目的是提升生音訊號高頻特性，使聲音變得平坦，更能凸顯聲音的共振峰( Formants) 

# 特徵選取 (Feature extraction)
因為聲音的變化很大，如果將音訊直接拿去做比對，不僅聲音訊號數據很大，辨識率也非常有限，因此在音訊中找到適當的特徵參數是非常重要的一件事。

主要可以分成兩大類：
* 頻譜特徵 (Spectral Feature)
* 倒頻譜特徵 (Cepstral Features)

兩種主要的頻譜特徵選取技術
* 線性評估倒頻譜係數 (Linear Prediction Cepstral Coefficients,LPCC)：
是一個可以運用在辨識人聲與樂曲辨識的特徵選取技術，也是線性預估係數(LPC)的延伸。
* **梅爾倒頻譜係數 (Mel Frequency Cepstral Coefficients,MFCC)：**
廣泛用在聲音辨識系統，是基於人耳特性研發的一種演算法，當多人在說話時，可以只鎖定特定聲音聆聽，MFCC充分的模擬了人的聽覺，具有較高的抗噪能力，在語音辨識中MFCC性能優於LPCC


# 濾波器 (Filter bank)
剔除信號中不需要的頻率或者從許多頻率中選擇一個想要的頻率，方法是將音訊的頻域 (Frequency Domain) 分割成數個部分。目前主要有兩種特徵選取技術。

# 監督式學習與非監督式學習
聲音學習中主要可以分為監督式學習與非監督式學習，監督式學習就是藉由每次的結果做參數修正，非監督式學習就有點像是分群的概念。
## 監督式學習
在進行說話人辨識中常用到的監督式學習有，KNN (K Nearest Neighbor)、ANN (人工神經網路)、SVM (支持向量)。
* KNN (K Nearest Neighbor)：
簡單來說就是找K個最近的資料分為一群，根據這K個裡面的資料將其分類。但由於需要儲存所有的特徵向量，而且需要將需要辨識的聲音與所有模型做向量的相似運算 ( 運算方式可能有很多種 )。

* 人工神經網路：
也就是所謂的黑箱機制，無法觀察學習的過程，也很難依靠人工推算出一定的結果，並且常常需要耗費大量運算資源，有時甚至達不到學習目的。
但此演算法擁有很翔的"聚類能力"，包含有動態聚類、模糊聚類、圖論據類之類的。

## 非監督式學習
非監督式學習透過適當的資料處理語聚類，讓音訊可以自己判斷出最合適的結果並輸出。在語音辨識上最常用到的有：
* 隱藏式馬可夫模型 (HMM)：
HMM是時間序列結構的統計模型，運作方式將內部狀態之間的轉換以及各狀態呈現的觀察值來描述整個資料的模型。但是只能得到觀測值 不能知道內部狀態的轉換過程，因此稱之為隱藏。

* 高斯混和模型 (GMM)：
透過輸入聲音的特徵值，並計算出平均描述特徵參數的分布位置、共變異矩陣來描述聲音形狀的變化等統計方式。，因此高師混和模型可以很平滑的描述聲音的特徵分布，並計算機路密度函數作為分類的依據。此方法可以運用在分辨發音性別與年齡。缺點是當模型過多的時候，訓練和辨識的計算量都較大。
